<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>HealthKit ä½¿ç”¨ç¬”è®°(ä¸€) | Summer Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ä¸ºä»€ä¹ˆè¦ç”¨HealthKit12345  å…¬å¸åœ¨åšä¸€æ¬¾å¥åº·ç±»çš„app, è¦å°†å„ç±»ç¬¬ä¸‰æ–¹è®¾å¤‡æ•°æ®ç»Ÿè®¡èµ·æ¥,è€Œè¿åŠ¨ä½œä¸ºå”¯ä¸€ä¸€ä¸ªæ‰‹æœºæœ¬èº«å°±å¯ä»¥æµ‹é‡è®¡æ­¥çš„åŠŸèƒ½æ¨¡å—,è¦å¥½å¥½åˆ©ç”¨èµ·æ¥.ç”±äºäº§å“äººå‘˜æœ¬èº«æ²¡æœ‰å¯¹æ‰‹æœºè®¡æ­¥åŠŸèƒ½çš„æ•°æ®ç»Ÿè®¡åšå‡ºå…·ä½“çš„é€»è¾‘è¦æ±‚, ä»¥è‡³äºè‡ªå·±å¼€å‘è¿‡ç¨‹ä¸­åˆ†åˆ«ç»å†äº†å‡ ä¸ªé˜¶æ®µ1. èµ·åˆä¸ºäº†å®ç°å®æ—¶è®¡æ­¥åŠŸèƒ½,è‡ªå·±é€‰ç”¨äº†CoreMotionæ¡†æ¶,å› ä¸ºCoreMotionæ¡†æ¶çš„å®æ—¶æ€§æ›´å¥½,ä¸”è¯»å–æ•°æ®æ›´ç®€">
<meta property="og:type" content="article">
<meta property="og:title" content="HealthKit ä½¿ç”¨ç¬”è®°(ä¸€)">
<meta property="og:url" content="http://yoursite.com/2016/08/05/HealthKit-ä½¿ç”¨ç¬”è®°-ä¸€/index.html">
<meta property="og:site_name" content="Summer Blog">
<meta property="og:description" content="ä¸ºä»€ä¹ˆè¦ç”¨HealthKit12345  å…¬å¸åœ¨åšä¸€æ¬¾å¥åº·ç±»çš„app, è¦å°†å„ç±»ç¬¬ä¸‰æ–¹è®¾å¤‡æ•°æ®ç»Ÿè®¡èµ·æ¥,è€Œè¿åŠ¨ä½œä¸ºå”¯ä¸€ä¸€ä¸ªæ‰‹æœºæœ¬èº«å°±å¯ä»¥æµ‹é‡è®¡æ­¥çš„åŠŸèƒ½æ¨¡å—,è¦å¥½å¥½åˆ©ç”¨èµ·æ¥.ç”±äºäº§å“äººå‘˜æœ¬èº«æ²¡æœ‰å¯¹æ‰‹æœºè®¡æ­¥åŠŸèƒ½çš„æ•°æ®ç»Ÿè®¡åšå‡ºå…·ä½“çš„é€»è¾‘è¦æ±‚, ä»¥è‡³äºè‡ªå·±å¼€å‘è¿‡ç¨‹ä¸­åˆ†åˆ«ç»å†äº†å‡ ä¸ªé˜¶æ®µ1. èµ·åˆä¸ºäº†å®ç°å®æ—¶è®¡æ­¥åŠŸèƒ½,è‡ªå·±é€‰ç”¨äº†CoreMotionæ¡†æ¶,å› ä¸ºCoreMotionæ¡†æ¶çš„å®æ—¶æ€§æ›´å¥½,ä¸”è¯»å–æ•°æ®æ›´ç®€">
<meta property="og:updated_time" content="2016-08-05T09:25:51.970Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HealthKit ä½¿ç”¨ç¬”è®°(ä¸€)">
<meta name="twitter:description" content="ä¸ºä»€ä¹ˆè¦ç”¨HealthKit12345  å…¬å¸åœ¨åšä¸€æ¬¾å¥åº·ç±»çš„app, è¦å°†å„ç±»ç¬¬ä¸‰æ–¹è®¾å¤‡æ•°æ®ç»Ÿè®¡èµ·æ¥,è€Œè¿åŠ¨ä½œä¸ºå”¯ä¸€ä¸€ä¸ªæ‰‹æœºæœ¬èº«å°±å¯ä»¥æµ‹é‡è®¡æ­¥çš„åŠŸèƒ½æ¨¡å—,è¦å¥½å¥½åˆ©ç”¨èµ·æ¥.ç”±äºäº§å“äººå‘˜æœ¬èº«æ²¡æœ‰å¯¹æ‰‹æœºè®¡æ­¥åŠŸèƒ½çš„æ•°æ®ç»Ÿè®¡åšå‡ºå…·ä½“çš„é€»è¾‘è¦æ±‚, ä»¥è‡³äºè‡ªå·±å¼€å‘è¿‡ç¨‹ä¸­åˆ†åˆ«ç»å†äº†å‡ ä¸ªé˜¶æ®µ1. èµ·åˆä¸ºäº†å®ç°å®æ—¶è®¡æ­¥åŠŸèƒ½,è‡ªå·±é€‰ç”¨äº†CoreMotionæ¡†æ¶,å› ä¸ºCoreMotionæ¡†æ¶çš„å®æ—¶æ€§æ›´å¥½,ä¸”è¯»å–æ•°æ®æ›´ç®€">
  
    <link rel="alternate" href="/atom.xml" title="Summer Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Summer Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Zoeken"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-HealthKit-ä½¿ç”¨ç¬”è®°-ä¸€" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/05/HealthKit-ä½¿ç”¨ç¬”è®°-ä¸€/" class="article-date">
  <time datetime="2016-08-05T09:18:21.000Z" itemprop="datePublished">2016-08-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      HealthKit ä½¿ç”¨ç¬”è®°(ä¸€)
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ä¸ºä»€ä¹ˆè¦ç”¨HealthKit"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨HealthKit" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨HealthKit"></a>ä¸ºä»€ä¹ˆè¦ç”¨HealthKit</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  å…¬å¸åœ¨åšä¸€æ¬¾å¥åº·ç±»çš„app, è¦å°†å„ç±»ç¬¬ä¸‰æ–¹è®¾å¤‡æ•°æ®ç»Ÿè®¡èµ·æ¥,è€Œè¿åŠ¨ä½œä¸ºå”¯ä¸€ä¸€ä¸ªæ‰‹æœºæœ¬èº«å°±å¯ä»¥æµ‹é‡è®¡æ­¥çš„åŠŸèƒ½æ¨¡å—,è¦å¥½å¥½åˆ©ç”¨èµ·æ¥.ç”±äºäº§å“äººå‘˜æœ¬èº«æ²¡æœ‰å¯¹æ‰‹æœºè®¡æ­¥åŠŸèƒ½çš„æ•°æ®ç»Ÿè®¡åšå‡ºå…·ä½“çš„é€»è¾‘è¦æ±‚, ä»¥è‡³äºè‡ªå·±å¼€å‘è¿‡ç¨‹ä¸­åˆ†åˆ«ç»å†äº†å‡ ä¸ªé˜¶æ®µ</span><br><span class="line">1. èµ·åˆä¸ºäº†å®ç°å®æ—¶è®¡æ­¥åŠŸèƒ½,è‡ªå·±é€‰ç”¨äº†CoreMotionæ¡†æ¶,å› ä¸ºCoreMotionæ¡†æ¶çš„å®æ—¶æ€§æ›´å¥½,ä¸”è¯»å–æ•°æ®æ›´ç®€å•</span><br><span class="line">2. ä¸€æ®µæ—¶é—´å,é¢†å¯¼ä»¬è§‰å¾—æ—¢ç„¶ç”¨æˆ·ç»™äº†è¯»å–æ•°æ®çš„æƒé™,é‚£ä¹ˆéœ€è¦å°†ç”¨æˆ·çš„å†å²æ•°æ®ä¿å­˜èµ·æ¥,ä»¥å¤‡æ—¥åæ•°æ®åˆ†æ ??, æ‰€ä»¥è‡ªå·±æ¥å…¥äº†HealthKitæ¡†æ¶ç”¨æ¥ä¿å­˜å†å²æ•°æ®,åŒæ—¶ä½¿ç”¨CoreMotionå®æ—¶è®¡æ­¥.</span><br><span class="line">3. å†åæ¥, æœåŠ¡å™¨åŒå­¦è§‰å¾— å®æ—¶è®¡æ­¥ç„¶åå®æ—¶å‘æœåŠ¡å™¨ä¸Šä¼ çš„æ–¹å¼ä¸å¥½, å¹¶ä¸”è¿˜å‡ºç°äº†ä¸€äº›å…¶ä»–å°é—®é¢˜,æ‰€ä»¥æˆ‘åˆå°†CoreMotionæ¡†æ¶åˆ é™¤,å¹¶ä½¿ç”¨HealthKitç»Ÿè®¡å½“æ—¥è¿åŠ¨æ­¥æ•°æ•°æ®??. å½“æ—¶çš„å¾®ä¿¡è¿åŠ¨çš„æ•°æ®åº”è¯¥ä¹Ÿåªå–äº†æ•°æ®æºä¸ºæœ¬æœºçš„æ•°æ®, å› æ­¤é¢†å¯¼è¦æ±‚æˆ‘ä»¬çš„appéœ€è¦ä¿è¯å’Œå¾®ä¿¡ä¸€æ ·åªå–æ•°æ®æºä¸º&quot;æ‰‹æœº&quot;çš„æ•°æ®??</span><br><span class="line">4. åˆåæ¥, appéœ€è¦å…¼å®¹iOS10, ä¸æ­¤åŒæ—¶,é¢†å¯¼å‘ç°&quot;å’¦, æ€ä¹ˆå¾®ä¿¡æ•°æ®å’Œæˆ‘ä»¬æ•°æ®ä¸ä¸€è‡´?!blablababalala&quot;. äºæ˜¯åªå¥½,åˆç ”ç©¶HealthKit??, å®å®ä¸å¼€å¿ƒ</span><br></pre></td></tr></table></figure>
<h2 id="çŸ¥è¯†ç‚¹è®°å½•"><a href="#çŸ¥è¯†ç‚¹è®°å½•" class="headerlink" title="çŸ¥è¯†ç‚¹è®°å½•"></a>çŸ¥è¯†ç‚¹è®°å½•</h2><h3 id="CoreMotion"><a href="#CoreMotion" class="headerlink" title="CoreMotion"></a>CoreMotion</h3><ul>
<li>åˆ¤æ–­å½“å‰æ‰‹æœºæ˜¯å¦æ”¯æŒè®¡æ­¥(æ˜¯å¦åŒ…å«M7ä»¥ä¸Šåå¤„ç†å™¨, iPhone5sä»¥ä¸Šæœºå‹æ”¯æŒ)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//å®æ—¶ä»ç³»ç»Ÿä¸­è¯»å–æ•°æ® M7å¤„ç†å™¨åŠŸèƒ½æ˜¯ä¸æ˜¯å¯ç”¨</span><br><span class="line">if (![CMPedometer isStepCountingAvailable])</span><br><span class="line"> &#123;</span><br><span class="line">    return ;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è¯»å–æ•°æ®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CMPedometer *pedometer = [[CMPedometer alloc] init];</span><br><span class="line">NSDate *startDate = ...;</span><br><span class="line">NSDate *toDate = [NSDate date];</span><br><span class="line"> [pedometer queryPedometerDataFromDate:startDate</span><br><span class="line">                                       toDate:endDate</span><br><span class="line">                                  withHandler:</span><br><span class="line">    ^(CMPedometerData *pedometerData, NSError *error) </span><br><span class="line">&#123;</span><br><span class="line">  //do whatever you want</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å®æ—¶æ›´æ–°æ•°æ®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CMPedometer *pedometer = [[CMPedometer alloc] init];</span><br><span class="line"> [pedometer startPedometerUpdatesFromDate:fromDate withHandler:^(CMPedometerData *  _Nullable pedometerData, NSError * _Nullable error) </span><br><span class="line"> &#123;</span><br><span class="line"> </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="HealthKit"><a href="#HealthKit" class="headerlink" title="HealthKit"></a>HealthKit</h3><ul>
<li>ä»¥ä¸‹çš„æ‰€æœ‰ <code>self.healthStore</code> é€šè¿‡ <code>getter</code> æ–¹æ³•è·å¾—</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (HKHealthStore *)healthStore</span><br><span class="line">&#123;</span><br><span class="line">    if (!_healthStore) &#123;</span><br><span class="line">        _healthStore = [[HKHealthStore alloc]init];</span><br><span class="line">    &#125;</span><br><span class="line">    return _healthStore;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>åˆ¤æ–­å½“å‰æ‰‹æœºæ˜¯å¦æ”¯æŒHealthKitæ¡†æ¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)isHealthDataAvailable</span><br><span class="line">&#123;</span><br><span class="line">    return [HKHealthStore isHealthDataAvailable];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è·å¾—ä½¿ç”¨ç”¨æˆ·æ•°æ®çš„æƒé™</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">/**è·å¾—ä½¿ç”¨æˆæƒ */</span><br><span class="line">- (void)authorizateHealthKit:(void(^)(BOOL isAuthorizateSucess))resultBlock</span><br><span class="line">&#123;</span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW,</span><br><span class="line">                                 (int64_t)(1.0 * NSEC_PER_SEC)),</span><br><span class="line">                   dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                       NSSet *readObjectTypes =</span><br><span class="line">                       //æ­¥æ•°</span><br><span class="line">                       [NSSet setWithObjects:</span><br><span class="line">                        [HKObjectType quantityTypeForIdentifier:HKQuantityTypeIdentifierStepCount],</span><br><span class="line">                        //è¡€ç³–</span><br><span class="line">                        [HKObjectType quantityTypeForIdentifier:HKQuantityTypeIdentifierBloodGlucose],</span><br><span class="line">                        //å¿ƒè„æ”¶ç¼©å‹</span><br><span class="line">                        [HKObjectType quantityTypeForIdentifier:HKQuantityTypeIdentifierBloodPressureSystolic],</span><br><span class="line">                        //å¿ƒè„èˆ’å¼ å‹</span><br><span class="line">                        [HKObjectType quantityTypeForIdentifier:HKQuantityTypeIdentifierBloodPressureDiastolic],</span><br><span class="line">                                                 nil];</span><br><span class="line">                       </span><br><span class="line">                       [self.healthStore</span><br><span class="line">                        requestAuthorizationToShareTypes:nil</span><br><span class="line">                        readTypes:readObjectTypes</span><br><span class="line">                        completion:^(BOOL success, NSError * _Nullable error)</span><br><span class="line">                        &#123;</span><br><span class="line">                            if (resultBlock) &#123;</span><br><span class="line">                                resultBlock(success);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;];</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è·å¾—æ—¥ç»Ÿè®¡æ•°æ®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">/** è·å¾—å½“æ—¥å±•ç¤ºæ•°æ®*/</span><br><span class="line">- (void)fetchHealthMotionDailyData:(void(^)(NSDictionary *resultDictionary))resultBlock</span><br><span class="line">&#123;</span><br><span class="line">    /**ä»HealthKitä¸­è¯»å–æ•°æ®*/</span><br><span class="line">    [self authorizateHealthKit:^(BOOL isAuthorizateSucess) &#123;</span><br><span class="line">        </span><br><span class="line">        if (!isAuthorizateSucess) &#123;</span><br><span class="line">            //æˆæƒå¤±è´¥,æç¤ºç”¨æˆ·</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        __block NSMutableDictionary *tempDictionary = [NSMutableDictionary dictionaryWithCapacity:1];</span><br><span class="line">        [self fetchSampleDataResultBlock:^(NSDictionary *queryResultDict) &#123;</span><br><span class="line">            int stepValue;</span><br><span class="line">            if ([queryResultDict.allKeys containsObject:@&quot;sampleStepCount&quot;]) &#123;</span><br><span class="line">            //æ­¤å¤„å³ä¸ºæ‰€å¾—åˆ°çš„è¿åŠ¨æ­¥æ•°</span><br><span class="line">                stepValue = ((NSNumber *)queryResultDict[@&quot;sampleStepCount&quot;]).intValue;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                stepValue = 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;];</span><br><span class="line">        </span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)fetchSampleDataResultBlock:(void(^)(NSDictionary *queryResultDict))resultBlock</span><br><span class="line">&#123;</span><br><span class="line">    NSMutableDictionary *tempDict = @&#123;&#125;.mutableCopy;</span><br><span class="line"></span><br><span class="line">    NSDateFormatter *formatter = [[NSDateFormatter alloc]init];</span><br><span class="line">    [formatter setDateFormat:@&quot;yyyy-MM-dd&quot;];</span><br><span class="line">    NSString *today = [formatter stringFromDate:[NSDate date]];</span><br><span class="line">    NSDate *fromDate = [MMUtils stringToDate:today isStart:YES];</span><br><span class="line">    </span><br><span class="line">    HKSampleType *sampleType = [HKSampleType quantityTypeForIdentifier:HKQuantityTypeIdentifierStepCount];</span><br><span class="line">    __block double totalStepCount = 0;//æ€»æ­¥è¡Œæ•°</span><br><span class="line"></span><br><span class="line">    //TODO:----0805</span><br><span class="line">    //è·å–å½“æ—¥æ•°æ®æœ‰ä¿©ç§æ–¹æ³•</span><br><span class="line">    if (0) &#123;</span><br><span class="line">#pragma clang diagnostic push</span><br><span class="line">#pragma clang diagnostic ignored &quot;-Wunreachable-code&quot;</span><br><span class="line">        //1.ç¬¬ä¸€ç§æ–¹æ³•ä¸º æŒ‰æ—¶é—´ç‚¹æ•°æ®ç´¯åŠ ,ä½†å½“æ•°æ®æºæœ‰è‹¥å¹²ä¸ªæ—¶,ç´¯åŠ çš„æ•°æ®ä¼šå˜æˆæ‰€æœ‰æ•°æ®æºæ•°æ®ä¹‹å’Œ</span><br><span class="line">        [self executeQueryQuantityType:sampleType startDate:fromDate endDate:[NSDate date] callBackResultBlock:^(NSArray * _Nullable results, NSError *error) &#123;</span><br><span class="line">            </span><br><span class="line">            for (HKQuantitySample *sample in results)</span><br><span class="line">            &#123;</span><br><span class="line">                //æ ¹æ®æ•°æ®æºç´¯åŠ æ•°æ®</span><br><span class="line">                if ([sample.source.name isEqualToString:[UIDevice currentDevice].name])</span><br><span class="line">                &#123;</span><br><span class="line">                    double stepCount = [sample.quantity doubleValueForUnit:[HKUnit countUnit]];</span><br><span class="line">                    </span><br><span class="line">                    totalStepCount += stepCount;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            [tempDict setObject:@(totalStepCount) forKey:kTotalSampleStepCountKey];</span><br><span class="line">            </span><br><span class="line">            if (resultBlock) &#123;</span><br><span class="line">                resultBlock(tempDict);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;];</span><br><span class="line"> #pragma clang diagnostic pop</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //2.ç¬¬äºŒç§æ–¹æ³•ä¸ºè·å–å½“æ—¥æ•°æ®çš„ç»Ÿè®¡æ•°æ®,ä½¿ç”¨è¿™ç§æ–¹å¼,å¯ä»¥åœ¨æœ‰è‹¥å¹²æ•°æ®æºæ—¶,è·å¾—ä¸&quot;å¥åº·app&quot;ç›¸å¯¹åº”çš„ç»Ÿè®¡æ•°æ®</span><br><span class="line">    HKQuantityType *quantityType = [HKQuantityType quantityTypeForIdentifier:HKQuantityTypeIdentifierStepCount];</span><br><span class="line"></span><br><span class="line">    [self executeQueryQuantityType:quantityType startDate:fromDate endDate:[NSDate date] callBackResultBlock:^(NSArray * _Nullable results, NSError *error) &#123;</span><br><span class="line">        </span><br><span class="line">        HKStatistics *result = results[0];</span><br><span class="line">        HKQuantity *sum = [result sumQuantity];//æ­¤å¤„å³ä¸ºè¯·æ±‚å½“æ—¥å·²ç»ç»Ÿè®¡è¿‡çš„æ•°æ®</span><br><span class="line">        double stepCount = [sum doubleValueForUnit:[HKUnit countUnit]];</span><br><span class="line">        [tempDict setObject:@(stepCount) forKey:kTotalSampleStepCountKey];</span><br><span class="line">        if (resultBlock) &#123;</span><br><span class="line">            resultBlock(tempDict);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>æŸ¥è¯¢æ•°æ®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">//æ•°æ®ç‚¹æŸ¥è¯¢</span><br><span class="line"></span><br><span class="line">- (void)executeQueryQuantityType:(HKSampleType *)quantityType</span><br><span class="line">                       startDate:(NSDate *)startDate</span><br><span class="line">                         endDate:(NSDate *)endDate</span><br><span class="line">             callBackResultBlock:(void(^)(NSArray * __nullable results, NSError *error))resultBlock</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    HKQuantityType *stepType = [HKObjectType quantityTypeForIdentifier:HKQuantityTypeIdentifierStepCount];</span><br><span class="line">    NSPredicate *predicate = [HKQuery predicateForSamplesWithStartDate:startDate endDate:endDate options:HKQueryOptionStrictStartDate];</span><br><span class="line">    NSSortDescriptor *sortDescriptor = [NSSortDescriptor sortDescriptorWithKey:HKSampleSortIdentifierStartDate ascending:YES];</span><br><span class="line">    </span><br><span class="line">    //TODO:----0805 è¦æ±‚æŸ¥è¯¢ç»Ÿè®¡æ•°æ®</span><br><span class="line"></span><br><span class="line">    if (0) &#123;</span><br><span class="line">#pragma clang diagnostic push</span><br><span class="line">#pragma clang diagnostic ignored &quot;-Wunreachable-code&quot;</span><br><span class="line">//æŒ‰ç…§æŸ¥è¯¢æ¡ä»¶,è¿”å›æ»¡è¶³æ—¶é—´æ®µå†…çš„æ‰€æœ‰æ•°æ®</span><br><span class="line">        HKSampleQuery *sampleQuery = [[HKSampleQuery alloc] initWithSampleType:stepType</span><br><span class="line">                                                                     predicate:predicate</span><br><span class="line">                                                                         limit:HKObjectQueryNoLimit</span><br><span class="line">                                                               sortDescriptors:@[sortDescriptor]</span><br><span class="line">                                                                resultsHandler:^(HKSampleQuery *query, NSArray *results, NSError *error)</span><br><span class="line">                                      &#123;</span><br><span class="line">                                          if (resultBlock) &#123;</span><br><span class="line">                                              resultBlock(results, error);</span><br><span class="line">                                          &#125;</span><br><span class="line">                                          </span><br><span class="line">                                      &#125;];</span><br><span class="line">        [self.healthStore executeQuery:sampleQuery];</span><br><span class="line">#pragma clang diagnostic pop</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //æŸ¥è¯¢å½“å¤©æ•°æ®çš„ç»Ÿè®¡æ•°æ®</span><br><span class="line">    //æŸ¥è¯¢æ•°æ®çš„æ—¶é—´é—´éš”</span><br><span class="line">    NSDateComponents *intervalCompents = [[NSDateComponents alloc]init];</span><br><span class="line">    intervalCompents.day = 1;</span><br><span class="line">    </span><br><span class="line">    //æŸ¥è¯¢æ•°æ®çš„å¼€å§‹æ—¶é—´(é”šç‚¹ anchordate)</span><br><span class="line">    //1.è·å–æ—¥å†</span><br><span class="line">    NSCalendar *calendar = [NSCalendar calendarWithIdentifier:NSCalendarIdentifierGregorian];</span><br><span class="line">    </span><br><span class="line">    //2.å½“å‰æ—¶é—´ç»„ä»¶</span><br><span class="line">    NSDateComponents *currentCompents = [calendar components:NSCalendarUnitSecond|NSCalendarUnitMinute|NSCalendarUnitHour fromDate:[NSDate date]];</span><br><span class="line">    NSDate *sendDate = [NSDate dateWithTimeIntervalSinceNow:0];</span><br><span class="line">    </span><br><span class="line">    //æŸ¥è¯¢æ¡ä»¶ (10å¤© * 24å°æ—¶ )</span><br><span class="line">    NSDate *sstartDate = [NSDate dateWithTimeIntervalSinceNow:-(currentCompents.hour * 3600 + currentCompents.minute * 60 + currentCompents.second)];</span><br><span class="line">    NSPredicate *spredicate = [HKQuery predicateForSamplesWithStartDate:sstartDate endDate:sendDate options:HKQueryOptionStrictStartDate];</span><br><span class="line">    </span><br><span class="line">    [self executeStatisticsQueryForQuantityType:stepType predicate:spredicate anchorDate:sendDate intervalComponents:intervalCompents callBackResult:^(HKStatistics * _Nullable result, NSError *error) &#123;</span><br><span class="line">        if (resultBlock) &#123;</span><br><span class="line">            resultBlock(@[result], error);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//ç»Ÿè®¡æ•°æ®</span><br><span class="line">- (void)executeStatisticsQueryForQuantityType:(HKQuantityType *)quantityType</span><br><span class="line">                          predicate:(nullable NSPredicate *)quantitySamplePredicate</span><br><span class="line">                         anchorDate:(NSDate *)anchorDate</span><br><span class="line">                 intervalComponents:(NSDateComponents *)intervalComponents</span><br><span class="line">                     callBackResult:(void (^)(HKStatistics * __nullable result, NSError *error))queryResult</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    HKStatisticsQuery *statisticQuery =</span><br><span class="line">    [[HKStatisticsQuery alloc]initWithQuantityType:quantityType quantitySamplePredicate:quantitySamplePredicate options:HKStatisticsOptionCumulativeSum completionHandler:^(HKStatisticsQuery * _Nonnull query, HKStatistics * _Nullable result, NSError * _Nullable error) &#123;</span><br><span class="line">        if (queryResult) &#123;</span><br><span class="line">            queryResult(result, error);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    [self.healthStore executeQuery:statisticQuery];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>æŸ¥è¯¢æŒ‡å®šæ—¥æœŸæ—¶é—´æ®µå†…çš„æ•°æ®,æ­¤å¤„ä¸ºå‰10æ—¥</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">//æŸ¥è¯¢æŒ‡å®šæ—¥æœŸæ—¶é—´æ®µçš„æ•°æ®(å‰10æ—¥)</span><br><span class="line">- (void)fetchAllHealthDataByDay:(void(^)(NSArray *dataArray))resultBlock</span><br><span class="line">&#123;</span><br><span class="line">    HKQuantityType *quantityType = [HKQuantityType quantityTypeForIdentifier:HKQuantityTypeIdentifierStepCount];</span><br><span class="line">    </span><br><span class="line">    //æŸ¥è¯¢æ•°æ®çš„æ—¶é—´é—´éš”</span><br><span class="line">    NSDateComponents *intervalCompents = [[NSDateComponents alloc]init];</span><br><span class="line">    intervalCompents.day = 1;</span><br><span class="line">    </span><br><span class="line">    //æŸ¥è¯¢æ•°æ®çš„å¼€å§‹æ—¶é—´(é”šç‚¹ anchordate)</span><br><span class="line">    //1.è·å–æ—¥å†</span><br><span class="line">    NSCalendar *calendar = [NSCalendar calendarWithIdentifier:NSCalendarIdentifierGregorian];</span><br><span class="line">    </span><br><span class="line">    //2.å½“å‰æ—¶é—´ç»„ä»¶</span><br><span class="line">    NSDateComponents *currentCompents = [calendar components:NSCalendarUnitSecond|NSCalendarUnitMinute|NSCalendarUnitHour fromDate:[NSDate date]];</span><br><span class="line">    NSDate *endDate = [NSDate dateWithTimeIntervalSinceNow:-(currentCompents.hour * 3600 + currentCompents.minute * 60 + currentCompents.second)];</span><br><span class="line">    </span><br><span class="line">    //æŸ¥è¯¢æ¡ä»¶ (10å¤© * 24å°æ—¶ )</span><br><span class="line">    NSDate *startDate = [NSDate dateWithTimeIntervalSinceNow:-(currentCompents.hour * 3600 + currentCompents.minute * 60 + currentCompents.second + 10 * 24 * 3600)];</span><br><span class="line">    NSPredicate *predicate = [HKQuery predicateForSamplesWithStartDate:startDate endDate:endDate options:HKQueryOptionStrictStartDate];</span><br><span class="line">    //TODO:0805---å¾…ä¿®æ”¹</span><br><span class="line">        [self executeQueryForQuantityType:quantityType</span><br><span class="line">                                predicate:predicate</span><br><span class="line">                               anchorDate:endDate</span><br><span class="line">                       intervalComponents:intervalCompents</span><br><span class="line">                           callBackResult:^(HKStatisticsCollection * _Nullable result, NSError *error) &#123;</span><br><span class="line">                               </span><br><span class="line">                               __block NSMutableArray *tempArray = @[].mutableCopy;</span><br><span class="line">                               [result.statistics enumerateObjectsUsingBlock:^(HKStatistics * _Nonnull statistics,</span><br><span class="line">                                                                               NSUInteger idx, BOOL * _Nonnull statisticsStop) &#123;</span><br><span class="line">                                  /* [statistics.sources enumerateObjectsUsingBlock:^(HKSource * _Nonnull source,</span><br><span class="line">                                                                                    NSUInteger idx, BOOL * _Nonnull sourceStop) &#123;</span><br><span class="line">                                       </span><br><span class="line">                                      // double stepCount = [[statistics sumQuantityForSource:source] doubleValueForUnit:[HKUnit countUnit]];</span><br><span class="line">                                       </span><br><span class="line">                                        double stepCount = [[statistics sumQuantity] doubleValueForUnit:[HKUnit countUnit]];</span><br><span class="line">                                       NSDateFormatter *formatter = [[NSDateFormatter alloc]init];</span><br><span class="line">                                       [formatter setDateFormat:@&quot;yyyy-MM-dd&quot;];</span><br><span class="line">                                       </span><br><span class="line">                                       NSString *stringDate = [formatter stringFromDate:statistics.startDate];</span><br><span class="line">                                       //NSLog(@&quot;******** %f, %@&quot;,stepCount, stringDate);</span><br><span class="line">                                       </span><br><span class="line">                                       </span><br><span class="line">                                       NSDictionary *tempDictionary = [NSDictionary dictionaryWithObjectsAndKeys:stringDate, @&quot;date_time&quot;,@(stepCount),@&quot;step&quot;, nil];</span><br><span class="line">                                       </span><br><span class="line">                                       [tempArray insertObject:tempDictionary atIndex:0];</span><br><span class="line">                                       *sourceStop = YES;</span><br><span class="line">                                   &#125;];*/</span><br><span class="line">                                   </span><br><span class="line">                                   </span><br><span class="line">                                   double stepCount = [[statistics sumQuantity] doubleValueForUnit:[HKUnit countUnit]];</span><br><span class="line">                                   int step = (int)ceil(stepCount);</span><br><span class="line">                                   NSDateFormatter *formatter = [[NSDateFormatter alloc]init];</span><br><span class="line">                                   [formatter setDateFormat:@&quot;yyyy-MM-dd&quot;];</span><br><span class="line">                                   </span><br><span class="line">                                   NSString *stringDate = [formatter stringFromDate:statistics.startDate];</span><br><span class="line">                                   //NSLog(@&quot;******** %f, %@&quot;,stepCount, stringDate);</span><br><span class="line">                                   </span><br><span class="line">                                   </span><br><span class="line">                                   NSDictionary *tempDictionary = [NSDictionary dictionaryWithObjectsAndKeys:stringDate, @&quot;date_time&quot;,@(step),@&quot;step&quot;, nil];</span><br><span class="line">                                   </span><br><span class="line">                                   [tempArray insertObject:tempDictionary atIndex:0];</span><br><span class="line">                               &#125;];</span><br><span class="line">                               </span><br><span class="line">                               if (resultBlock) &#123;</span><br><span class="line">                                   resultBlock(tempArray);</span><br><span class="line">                               &#125;</span><br><span class="line">                           &#125;];</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">//åˆ†ç±»ç»Ÿè®¡æŸ¥è¯¢</span><br><span class="line">- (void)executeQueryForQuantityType:(HKQuantityType *)quantityType</span><br><span class="line">                          predicate:(nullable NSPredicate *)quantitySamplePredicate</span><br><span class="line">                         anchorDate:(NSDate *)anchorDate</span><br><span class="line">                 intervalComponents:(NSDateComponents *)intervalComponents</span><br><span class="line">                     callBackResult:(void (^)(HKStatisticsCollection * __nullable result, NSError *error))queryResult</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    HKStatisticsCollectionQuery *collectionQuery =</span><br><span class="line">    [[HKStatisticsCollectionQuery alloc] initWithQuantityType:quantityType</span><br><span class="line">                                      quantitySamplePredicate:quantitySamplePredicate</span><br><span class="line">                                                      options:HKStatisticsOptionCumulativeSum | HKStatisticsOptionSeparateBySource</span><br><span class="line">                                                   anchorDate:anchorDate</span><br><span class="line">                                           intervalComponents:intervalComponents];</span><br><span class="line">    </span><br><span class="line">    collectionQuery.initialResultsHandler = ^(HKStatisticsCollectionQuery *query, HKStatisticsCollection * __nullable result, NSError * __nullable error)&#123;</span><br><span class="line">        if (queryResult) &#123;</span><br><span class="line">            queryResult(result, error);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    [self.healthStore executeQuery:collectionQuery];</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ol>
<li>è¿™æ¬¡ä½¿ç”¨HealthKitè¿‡ç¨‹ä¸­ä½¿ç”¨åˆ°äº†ä¸‰ç§query, åˆ†åˆ«ä¸º<code>HKStatisticsCollectionQuery</code> , <code>HKStatisticsQuery</code>, <code>HKSampleQuery</code>, ä¸åŒçš„queryè¿”å›çš„æ•°æ®ç»“æœä¸åŒ, æ ¹æ®ä¸åŒçš„åœºæ™¯,ä½¿ç”¨ä¸åŒçš„æŸ¥è¯¢æ–¹å¼. </li>
<li>HealthKité‡Œé¢è¿˜æœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦å­¦ä¹ , è¿™æ¬¡å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ç†è§£çš„ä¹Ÿä¸é€å½»,éœ€è¦ä»¥åä¸æ–­åŠ å¼º</li>
</ol>
<p><em>å‚è€ƒé“¾æ¥</em></p>
<ol>
<li>iOS 8 HealthKit ä»‹ç» <a href="http://vit0.com/blog/2014/10/30/ios-8-healthkit-jie-shao/" target="_blank" rel="external">http://vit0.com/blog/2014/10/30/ios-8-healthkit-jie-shao/</a> </li>
<li>HealthKitDemo <a href="https://github.com/MarsCWD/HealthKitDemo" target="_blank" rel="external">https://github.com/MarsCWD/HealthKitDemo</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/05/HealthKit-ä½¿ç”¨ç¬”è®°-ä¸€/" data-id="cj0xgq8oz0002pcuxv7eqw0rr" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/09/21/åœ¨Xcode7ä¸­ä½¿ç”¨Swiftè¿›è¡Œå•å…ƒæµ‹è¯•/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Nieuwer</strong>
      <div class="article-nav-title">
        
          åœ¨Xcode7ä¸­ä½¿ç”¨Swiftè¿›è¡Œå•å…ƒæµ‹è¯•
        
      </div>
    </a>
  
  
    <a href="/2016/08/02/ç»˜åˆ¶å°¾éƒ¨å¸¦æœ‰åœ†åœˆçš„åœ†ç¯/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ouder</strong>
      <div class="article-nav-title">ç»˜åˆ¶å°¾éƒ¨å¸¦æœ‰åœ†åœˆçš„åœ†ç¯</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archieven</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recente berichten</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/03/31/æ™´è½¬é˜´/">æ™´è½¬é˜´</a>
          </li>
        
          <li>
            <a href="/2017/03/31/æ—©å®‰ï¼Œå–µğŸ±/">æ—©å®‰ï¼Œå–µğŸ±</a>
          </li>
        
          <li>
            <a href="/2017/03/31/ç…§è¿›æ¢¦æƒ³çš„ç°å®/">ç…§è¿›æ¢¦æƒ³çš„ç°å®</a>
          </li>
        
          <li>
            <a href="/2017/03/31/å¤§æµªæ·˜æ²™/">å¤§æµªæ·˜æ²™</a>
          </li>
        
          <li>
            <a href="/2017/03/24/çŸ¥åéª—å­/">çŸ¥åéª—å­</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Summer<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>